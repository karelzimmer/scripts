# WERKWIJZE
# ---------
# sudo apt install gettext

cd ~/scripts || exit
mkdir --parents nl/LC_MESSAGES

# Maak POT bestand (Portable Object Template) aan, N-keer:
xgettext --language=Shell --output=helloworld.pot helloworld.sh
xgettext --language=Python --output=helloworld.pot helloworld.py
# Herhalen:
xgettext --language=Shell --join-existing --output=helloworld.pot helloworld.sh
xgettext --language=Python --join-existing --output=helloworld.pot helloworld.py

# Maak PO bestand (Portable Object) aan, 1-keer, daarna toevoegingen:
msginit --locale=nl --input=helloworld.pot --output-file=nl/LC_MESSAGES/helloworld.po
# Herhalen:
msgmerge --update nl/LC_MESSAGES/helloworld.po helloworld.pot

# Wijzig 1-malig het PO bestand:
# Content-Type: text/plain; charset=UTF-8\n" <== UTF-8
# PACKAGE -> helloworld
# VERSION -> 0.1

# Wijzig als vertaler het PO bestand:
# msgid "Hello world!"
# msgstr "" --> "Hallo wereld!"
# Etc.

# Maak MO bestand (Machine Object) aan, N-keer:
msgfmt --output-file=nl/LC_MESSAGES/helloworld.mo nl/LC_MESSAGES/helloworld.po
# Wordt gedistribueerd en geinstalleerd met "kz.deb", zonder helloword.po.
# ── helloworld.pot
# ├── helloworld.sh
# ├── nl
# │   └── LC_MESSAGES
# │       ├── helloworld.mo
# │       ├── helloworld.po
# Voor systeem:
sudo cp nl/LC_MESSAGES/helloworld.mo /usr/share/locale/nl/LC_MESSAGES
sudo rm /usr/share/locale/nl/LC_MESSAGES/helloworld.mo 

# Vind duplicates in PO bestand:
msguniq --repeated nl/LC_MESSAGES/helloworld.po

# Combineer PO bestanden:
msgcat --repeated File1.po File2.po --output-file=File3.po


# TESTEN
# ------
echo "$LANGUAGE"
# nl:en
# LANGUAGE=nl

./helloworld.sh 
# Programmanaam: ./helloworld.sh
#
# Hallo wereld!

LANGUAGE=en
./helloworld.sh 
# Program name: ./helloworld.sh
#
# Hello world!
